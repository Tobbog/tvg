{% extends "base.html" %}
{% block title %}{{companies.name}}{% endblock %}

{% block content %}
{% if user.is_authenticated %}

  <ul style="list-style: none; position: absolute; top: 25px;">
    <li><p><strong>Name:</strong> {{companies.name}}</p></li>
    <li><p><strong>DS-Code:</strong> {{companies.DSCD}}</p></li>
    <li><p><strong>ESG-Score:</strong> {{companies.ESG}}</p></li>
    <li><p><strong>Environmental Score:</strong> {{companies.ENV}}</p></li>
    <li><p><strong>Social Score:</strong> {{companies.SOC}}</p></li>
    <li><p><strong>Governance Score:</strong> {{companies.CGV}}</p></li>
    <li><p><strong>Quality Score:</strong> {{companies.QUAL}}</p></li>
    <li><a href="{% url 'agcs:companies_list' %}"><strong>Back</strong></a></li>
  </ul>

  <canvas id="myChart" width="500px" height="500px" style="position: absolute; top: 10px; right: 10px;"></canvas>
  <script>
  var ctx = document.getElementById("myChart").getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'bar',
      data: {
          labels: ["ESG Score", "Environmental Score", "Social Score", "Governance Score", "Quality Score"],
          datasets: [{
              label: 'Score Value',
              data: [{{companies.ESG}}, {{companies.ENV}}, {{companies.SOC}}, {{companies.CGV}}, {{companies.QUAL}}],
              backgroundColor: [
                  'rgba(255, 206, 86, 0.2)',
                  'rgba(75, 192, 192, 0.2)',
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(121, 23, 49, 0.2)'

              ],
              borderColor: [
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(255,99,132,1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(121, 23, 49, 1)'

              ],
              borderWidth: 1
          }]
      },
      options: {
        responsive: false,
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero:true,
                      max:100
                  }
              }]
          }
      }
  });
  </script>

{% else %}
<p>Please <a href="{% url 'login' %}">log in</a>.</p>

{% endif %}
{% endblock %}
